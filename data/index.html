<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetSphere</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="icon.png" type="image/png">
    <script src="http://cdn.rawgit.com/Mikhus/canvas-gauges/gh-pages/download/2.1.7/all/gauge.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <div class="navbar" id="nav">
        <div class="contnav">
            <img src="https://secrad.lpz.ucb.edu.bo/wp-content/uploads/2019/05/logo1-e1617112271575.png" alt="UCB-LOGO"
                width="275" id="ucb">
        </div>
    </div>

    <div class="major_container_row">
        <div class="container">
            <img src="icon.png" alt="UCB-LOGO" width="230">
        </div>
        <div class="container" style="font-size: 40px;">
            <p>NET<i class="black_text">SPHERE</i></p>
        </div>
        <div class="container">
            <div class="c">
                <div class="weather">
                    <p class="temp"></p>
                    <p class="desc"></p>
                </div>
                <div class="time">
                    <p class="date"></p>
                    <p class="clock"></p>
                </div>
            </div>
        </div>
        <div class="container">
            %rssicon%
            <h2>RSSI</h2>
        </div>
    </div>

    <div class="main" id="main">
        <div style="width: 55%; margin: 2%;">
            <div class="menu" id = "buttons">
                <button class="button-82-pushable" role="button" onclick="modoManual()">
                    <span class="button-82-shadow"></span>
                    <span class="button-82-edge"></span>
                    <span class="button-82-front text">
                        Manual
                    </span>
                </button>
                <button class="button-82-pushable" role="button" onclick="modoAutomaticoHorario()">
                    <span class="button-82-shadow"></span>
                    <span class="button-82-edge"></span>
                    <span class="button-82-front text">
                        Horario
                    </span>
                </button>
                <button class="button-82-pushable" role="button" onclick="modoAutomaticoIntensidad()">
                    <span class="button-82-shadow"></span>
                    <span class="button-82-edge"></span>
                    <span class="button-82-front text">
                        Intensidad
                    </span>
                </button>
                <button class="button-82-pushable" role="button" onclick="modoShutdown()">
                    <span class="button-82-shadow"></span>
                    <span class="button-82-edge"></span>
                    <span class="button-82-front text" id="onoff">
                        Apagar
                    </span>
                </button>
                <button class="button-82-pushable" role="button" onclick="test()">
                    <span class="button-82-shadow"></span>
                    <span class="button-82-edge"></span>
                    <span class="button-82-front text" id="onoff">
                        Test
                    </span>
                </button>
            </div>
        </div>

        <div class="major_container_col" id="manual">
            <h1>
                Control Manual del horno
            </h1>
            <div class="major_container_row" id="horno">
                <svg id="calentar" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path fill="#000000"
                            d="M24.387 10.717c-0.138-0.135-0.327-0.218-0.535-0.218-0.049 0-0.097 0.005-0.144 0.013l0.005-0.001c-0.248 0.050-0.449 0.217-0.545 0.439l-0.002 0.005c-0.464 1.058-1.169 1.936-2.048 2.593l-0.017 0.012c0.073-0.49 0.115-1.055 0.115-1.629 0-1.75-0.389-3.409-1.085-4.896l0.030 0.071c-1.22-2.547-3.264-4.537-5.78-5.658l-0.074-0.029c-0.088-0.039-0.19-0.061-0.297-0.061-0.415 0-0.751 0.336-0.751 0.751 0 0.045 0.004 0.089 0.012 0.132l-0.001-0.005c0.003 0.076 0.005 0.166 0.005 0.256 0 2.136-0.947 4.051-2.444 5.348l-0.009 0.008c-0.527 0.534-1.090 1.039-1.651 1.544-1.278 1.058-2.39 2.248-3.336 3.565l-0.038 0.056c-1.046 1.702-1.666 3.765-1.666 5.971 0 1.092 0.152 2.149 0.436 3.151l-0.020-0.081c0.736 3.011 2.586 5.5 5.077 7.058l0.048 0.028c1.817 1.16 4.030 1.855 6.405 1.867h0.003c0.004 0 0.010 0 0.015 0 0.505 0 1.003-0.033 1.49-0.098l-0.057 0.006c4.53-0.662 8.203-3.748 9.696-7.879l0.027-0.084c0.379-1.122 0.597-2.414 0.597-3.757 0-3.302-1.321-6.296-3.464-8.481l0.002 0.002zM25.83 22.471c-1.327 3.682-4.536 6.38-8.436 6.95l-0.057 0.007c-0.376 0.048-0.811 0.075-1.252 0.075-2.085 0-4.027-0.61-5.658-1.661l0.041 0.025c-2.213-1.381-3.824-3.55-4.451-6.105l-0.014-0.068c-0.236-0.811-0.372-1.743-0.372-2.707 0-1.903 0.53-3.683 1.45-5.199l-0.025 0.045c0.911-1.26 1.938-2.353 3.089-3.3l0.030-0.024c0.584-0.524 1.168-1.050 1.717-1.606 1.546-1.412 2.605-3.332 2.914-5.495l0.006-0.049c1.736 1.039 3.106 2.534 3.965 4.32l0.026 0.061c0.577 1.229 0.914 2.669 0.914 4.188 0 1.030-0.155 2.024-0.443 2.96l0.019-0.071c-0.021 0.065-0.032 0.14-0.032 0.218 0 0.414 0.336 0.75 0.75 0.75 0.101 0 0.198-0.020 0.285-0.056l-0.005 0.002c1.575-0.653 2.856-1.753 3.717-3.14l0.019-0.034c1.448 1.799 2.324 4.112 2.324 6.629 0 1.175-0.191 2.305-0.543 3.362l0.022-0.075z">
                        </path>
                    </g>
                </svg>
                <svg id="enfriar" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path
                            d="M12 17L9 20M12 17L15 20M12 17V12M12 17V21M12 7L9 4M12 7L15 4M12 7V12M12 7V3M12 12L7.66985 9.49995M12 12L16.3301 14.4999M12 12L7.66985 14.4999M12 12L16.3301 9.49995M16.3301 14.4999L17.4282 18.598M16.3301 14.4999L20.4282 13.4019M16.3301 14.4999L19.7943 16.5M7.66985 9.49995L3.57178 10.598M7.66985 9.49995L6.57178 5.40187M7.66985 9.49995L4.20581 7.5M16.3301 9.49995L20.4282 10.598M16.3301 9.49995L17.4282 5.40187M16.3301 9.49995L19.7943 7.5M7.66985 14.4999L6.57178 18.598M7.66985 14.4999L3.57178 13.4019M7.66985 14.4999L4.20581 16.5"
                            stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    </g>
                </svg>
            </div>
        </div>

        <div class="major_container_col" id="automatico" style="text-align: center;">
            <h1>
                Control Automatico del horno
            </h1>
            <div class="major_container_row">
                <svg viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    fill="#000000" width="200">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path
                            d="M1024 960a64 64 0 0 1-64 64H64a64 64 0 0 1-64-64V96a64 64 0 0 1 64-64h896a64 64 0 0 1 64 64v864z"
                            fill="#EAEAEA"></path>
                        <path d="M128 0h320v32H128zM576 0h320v32H576z" fill="#434854"></path>
                        <path d="M112 144m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" fill="#434854"></path>
                        <path d="M272 144m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" fill="#434854"></path>
                        <path d="M432 144m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" fill="#434854"></path>
                        <path d="M592 144m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" fill="#434854"></path>
                        <path d="M960 288a32 32 0 0 1-32 32H96a32 32 0 1 1 0-64h832a32 32 0 0 1 32 32z" fill="#434854">
                        </path>
                        <path
                            d="M928 319.968H96a31.584 31.584 0 0 1-27.104-16 30.88 30.88 0 0 0-4.896 16 32 32 0 0 0 32 32h832a32 32 0 0 0 32-32 30.88 30.88 0 0 0-4.896-16 31.584 31.584 0 0 1-27.104 16z"
                            fill=""></path>
                        <path
                            d="M960 928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v512z"
                            fill="#469FCC"></path>
                        <path
                            d="M859.328 552.576l-67.872-67.872a16 16 0 0 0-22.624 22.624l67.872 67.872a16 16 0 0 0 22.624-22.624zM724.384 506.496a16 16 0 0 0-22.624 22.624l113.12 113.12a16 16 0 0 0 22.624-22.624l-113.12-113.12z"
                            fill="#FFFFFF"></path>
                        <path d="M912 144m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" fill="#3AAD73"></path>
                        <path
                            d="M112 191.968a47.872 47.872 0 0 1-45.056-32 47.456 47.456 0 0 0-2.944 16 48 48 0 0 0 96 0c0-5.632-1.152-10.976-2.944-16-6.624 18.592-24.192 32-45.056 32zM272 191.968a47.872 47.872 0 0 1-45.056-32 47.456 47.456 0 0 0-2.944 16 48 48 0 0 0 96 0c0-5.632-1.152-10.976-2.944-16-6.624 18.592-24.192 32-45.056 32zM432 191.968a47.872 47.872 0 0 1-45.056-32 47.456 47.456 0 0 0-2.944 16 48 48 0 0 0 96 0c0-5.632-1.152-10.976-2.944-16-6.624 18.592-24.192 32-45.056 32zM592 191.968a47.872 47.872 0 0 1-45.056-32 47.456 47.456 0 0 0-2.944 16 48 48 0 0 0 96 0c0-5.632-1.152-10.976-2.944-16-6.624 18.592-24.192 32-45.056 32zM957.056 159.968c-6.624 18.592-24.192 32-45.056 32s-38.432-13.408-45.056-32a47.456 47.456 0 0 0-2.944 16 48 48 0 0 0 96 0c0-5.632-1.152-10.976-2.944-16z"
                            fill=""></path>
                    </g>
                </svg>
            </div>

            <div id="automaticoHorario">
                <h2>Control de prendido y apagado automatico por horario</h2>

                <div class="col">
                    <div class="row">
                        <div style="margin: 5px;">
                            <h2>Encendido</h2>
                            <input type="time" id="horaEncendido" name="horaEncendido" min="00:00" max="23:59">
                        </div>
                        <div style="margin: 5px;">
                            <h2>Apagado</h2>
                            <input type="time" id="horaApagado" name="horaApagado" min="00:00" max="23:59">
                        </div>
                    </div>
                    <div class = row>
                        <h2>Encender por tiempo: </h2>
                        <input type="number" id="tiempo" name="horaEncendido">
                        <button class="boton" onclick="encender_por_tiempo()">Enceder</button>
                    </div>
                </div>
            </div>


            <div id="automaticoIntensidad">
                <h2>Ajuste de temperatura</h2>
                <div class="col">
                    <form action="/set_point" method="post">
                        <div class="col">
                            <div class="row" style="width: max-content;">
                                <h3>Temperatura &#8451:</h3>
                                <input type="range" id="pwmInputE" name="value" min="0" max="330" value="50"
                                    onchange="updateE(this.value);">
                                <input type="number" id="textInputE" onchange="updateE(this.value);" value="50"
                                    style="width:50px;">
                            </div>
                            <button type="submit" value="Submit" class="boton">Ajustar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id = "charts" class = "container" style="width: fit-content; margin-top: 30px;">

            <div id="chart-Temperatura" >
           
            </div>
            <div id="chart-Horno" >
               
            </div>
            <div id="chart-Ventilador" >
               
            </div>

        </div>
    </div>

    <div class="tabla">
        <h2>Información de la conexión:</h2>
        <table class="tabla_filas">
            <thead class="tabla_head">
                <tr>
                    <th>IP Local</th>
                    <th>Host Name</th>
                    <th>Status</th>
                    <th>SSID</th>
                    <th>PSK</th>
                    <th>BSSID</th>
                    <th>RSSI</th>
                </tr>
            </thead>
            <tbody class="tabla_body">
                <tr>
                    <td>%IPlocal%</td>
                    <td>%hostname%</td>
                    <td>%status%</td>
                    <td>%ssid%</td>
                    <td>%psk%</td>
                    <td>%bssid%</td>
                    <td>%rssi%</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- tarjetas de presentacion developers -->
    <div class="devs-cards">
        <div class="profile-card">
            <img src="https://avatars.githubusercontent.com/u/72824805?v=4" alt="profile image">
            <div class="profile-card__description">
                <h1>Alex Quiroga Pérez</h1>
                <p>alex.quiroga.perez@gmail.com</p>
                <p>73519892</p>
                <p><b><i>NetSphere</i></b></p>
                <p><b><i>© Todos los derechos reservados</i></b></p>
            </div>
            <div class="profile-card__social">
                <a href="https://www.github.com" class="fa fa-github" target="_blank">
                </a>
                <a href="https://www.facebook.com" class="fa fa-facebook" target="_blank">
                </a>
                <a href="https://www.whatsapp.com" class="fa fa-whatsapp" target="_blank">
                </a>
                <a href="https://www.instagram.com" class="fa fa-instagram" target="_blank">
                </a>
            </div>
        </div>
        <div class="profile-card">
            <img src="https://avatars.githubusercontent.com/u/88806949?v=4" alt="profile image">
            <div class="profile-card__description">
                <h1>José Isaí Díaz Soza</h1>
                <p>jsoza057@gmail.com</p>
                <p>77555510</p>
                <p><b><i>NetSphere</i></b></p>
                <p><b><i>© Todos los derechos reservados</i></b></p>
            </div>
            <div class="profile-card__social">
                <a href="https://www.github.com" class="fa fa-github" target="_blank">
                </a>
                <a href="https://www.facebook.com" class="fa fa-facebook" target="_blank">
                </a>
                <a href="https://www.whatsapp.com" class="fa fa-whatsapp" target="_blank">
                </a>
                <a href="https://www.instagram.com" class="fa fa-instagram" target="_blank">
                </a>
            </div>
        </div>
        <div class="profile-card">
            <img src="https://avatars.githubusercontent.com/u/90651243?v=4" alt="profile image">
            <div class="profile-card__description">
                <h1>Luis Mauricio Carvajal Sanchez</h1>
                <p>luiscarvajalsanchez2@gmail.com</p>
                <p>67030233</p>
                <p><b><i>NetSphere</i></b></p>
                <p><b><i>© Todos los derechos reservados</i></b></p>
            </div>
            <div class="profile-card__social">
                <a href="https://www.github.com" class="fa fa-github" target="_blank">
                </a>
                <a href="https://www.facebook.com" class="fa fa-facebook" target="_blank">
                </a>
                <a href="https://www.whatsapp.com" class="fa fa-whatsapp" target="_blank">
                </a>
                <a href="https://www.instagram.com" class="fa fa-instagram" target="_blank">
                </a>
            </div>
        </div>
    </div>

    <footer class="footer">
        <img src="icon.png" alt="UCB-LOGO" width="100">
        <p>NetSphere</p>
        <p> ©. Todos los derechos reservados</p>
    </footer>

    <!-- <script>
        var chartADC = new Highcharts.Chart({
        chart:{ renderTo:'chart-    ' },
        title: { text: 'ADC' },
        series: [{
            showInLegend: false,
            data: []
        }],
        plotOptions: {
            line: { animation: false,
            dataLabels: { enabled: true }
            },
            series: { color: '#18009c' }
        },
        xAxis: {
            type: 'datetime',
            dateTimeLabelFormats: { second:'%S' }
        },
        yAxis: {
            title: { text: 'Datos del ADC A0' }
        },
        credits: { enabled: false }
        });
        setInterval(function ( ) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
            var x = (new Date()).getTime(),
                y = parseFloat(this.responseText);
            //console.log(this.responseText);
            if(chartADC.series[0].data.length > 40) {
                chartADC.series[0].addPoint([x, y], true, true, true);
            } else {
                chartADC.series[0].addPoint([x, y], true, false, true);
            }
            }
        };
        xhttp.open("GET", "/ADC", true);
        xhttp.send();
        }, 1000 );
    </script> -->

    <script src="script.js"></script>

</body>

</html>